# ClickHouse Cloud Configuration Template
#
# For company employees using AWS ClickHouse Cloud service
# Service: gapless-crypto-cli (us-west-2)
#
# IMPORTANT: Use Doppler for credential loading (recommended)
#   doppler run --project aws-credentials --config prd -- python your_script.py
#
# OR copy this file to .env and fill in credentials (fallback)
#   cp .env.cloud .env
#   # Edit .env with your credentials
#   # Add .env to .gitignore (NEVER commit credentials!)

# ============================================================================
# ClickHouse Cloud Connection (Required)
# ============================================================================

# Service hostname (ClickHouse Cloud format)
CLICKHOUSE_HOST=ebmf8f35lu.us-west-2.aws.clickhouse.cloud

# HTTPS port (ClickHouse Cloud uses 8443, NOT 8123)
CLICKHOUSE_HTTP_PORT=8443

# Database name
CLICKHOUSE_DATABASE=default

# Database user (default user has admin privileges)
CLICKHOUSE_USER=default

# Database password (from Doppler CLICKHOUSE_PASSWORD or ClickHouse Cloud console)
CLICKHOUSE_PASSWORD=

# TLS/SSL (REQUIRED for ClickHouse Cloud - set to 'true')
CLICKHOUSE_SECURE=true

# ============================================================================
# ClickHouse Cloud API Credentials (Optional - for advanced use cases)
# ============================================================================

# API Key ID (for ClickHouse Cloud Management API)
CLICKHOUSE_CLOUD_KEY_ID=

# API Key Secret (for ClickHouse Cloud Management API)
CLICKHOUSE_CLOUD_KEY_SECRET=

# Organization ID
CLICKHOUSE_CLOUD_ORG_ID=2404d339-6921-4f1c-bf80-b07d5e23b91a

# Service ID
CLICKHOUSE_CLOUD_SERVICE_ID=a3163f31-21f4-4e22-844e-ef3fbc26ace2

# ============================================================================
# Notes
# ============================================================================
#
# 1. CREDENTIAL SECURITY:
#    - Recommended: Use Doppler (doppler run --project aws-credentials --config prd --)
#    - Fallback: Use .env file (MUST be in .gitignore)
#    - NEVER commit credentials to version control
#
# 2. SERVICE DETAILS:
#    - Region: us-west-2 (AWS)
#    - Idle scaling: 15 minutes (first query may take 10s to resume)
#    - Console: https://clickhouse.cloud/services/a3163f31-21f4-4e22-844e-ef3fbc26ace2
#
# 3. TROUBLESHOOTING:
#    - Connection refused → Check CLICKHOUSE_HOST ends with .aws.clickhouse.cloud
#    - SSL/TLS error → Ensure CLICKHOUSE_SECURE=true
#    - Timeout (>10s) → Service resuming from idle state, retry in 30s
#    - Auth failed → Password expired, reset in ClickHouse Cloud console
#
# 4. ONBOARDING:
#    - See: skills/gapless-crypto-clickhouse-onboarding/SKILL.md
#    - Test connection: python skills/gapless-crypto-clickhouse-onboarding/scripts/test_connection_cloud.py
#    - Join #data-engineering Slack for support
#
# 5. PACKAGE USAGE:
#    # With Doppler (recommended)
#    doppler run --project aws-credentials --config prd -- python -c "
#    import gapless_crypto_clickhouse as gcd
#    df = gcd.query_ohlcv('BTCUSDT', '1h', '2024-01-01', '2024-01-31')
#    print(df.head())
#    "
#
#    # With .env file (fallback)
#    python -c "
#    from dotenv import load_dotenv
#    load_dotenv('.env')  # Load from .env file
#    import gapless_crypto_clickhouse as gcd
#    df = gcd.query_ohlcv('BTCUSDT', '1h', '2024-01-01', '2024-01-31')
#    print(df.head())
#    "
